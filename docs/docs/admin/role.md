# Роли (RBAC)

В системе реализована модель управления доступом на основе ролей (RBAC — Role-Based Access Control). Каждый пользователь получает одну или несколько ролей, которым присвоены определённые права (permissions). Права определяют, какие действия пользователь может выполнять над объектами системы.

---

## Структура прав

Права состоят из двух основных компонентов:

- **Entity** — объект системы, над которым осуществляется действие.
- **Action** — действие, которое разрешено выполнять над объектом.

### Entity (Объекты)

| Название  | Описание                                |
|-----------|---------------------------------------|
| SEGMENT   | Сегменты доноров                       |
| SOURCE    | Источники данных                       |
| CAMPAIGN  | Кампании рассылок                     |
| USER      | Пользователи системы                   |
| TEMPLATE  | Шаблоны сообщений                      |

### Action (Действия)

| Название | Описание действия                     |
|----------|-------------------------------------|
| VIEW     | Просмотр объекта                    |
| CREATE   | Создание нового объекта             |
| DELETE   | Удаление объекта                   |
| EDIT     | Редактирование объекта              |
| SEARCH   | Поиск по объектам                   |

---

## Формат права

Права хранятся в виде строки в формате:
``<Entity>_<Action>``

Пример: `SEGMENT_CREATE` — право на создание сегмента.

---

## Управление ролями

- Каждая роль содержит набор прав (permissions).
- Пользователю назначается одна или несколько ролей.
- При выполнении действий система проверяет наличие соответствующего права у роли пользователя.

---

## Пример набора прав для роли "Менеджер по сегментам"

| Право           | Описание                          |
|-----------------|---------------------------------|
| SEGMENT_VIEW    | Просмотр сегментов               |
| SEGMENT_CREATE  | Создание новых сегментов         |
| SEGMENT_EDIT    | Редактирование сегментов          |
| SEGMENT_SEARCH  | Поиск по сегментам               |
| CAMPAIGN_VIEW   | Просмотр кампаний рассылок        |

---

## Рекомендации по настройке прав

- Назначайте пользователям только те права, которые необходимы для выполнения их задач.
- Для повышения безопасности используйте принцип минимальных привилегий.
- Регулярно пересматривайте набор прав и обновляйте роли по мере изменения бизнес-процессов.

---

## Дополнительная информация

При необходимости можно расширять список сущностей и действий, дополняя enums `Entity` и `Action` через запрос в техническую поддержку.

---

Если возникнут вопросы по настройке ролей и прав, обращайтесь в службу технической поддержки.

